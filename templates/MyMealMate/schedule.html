<!DOCTYPE html>
{% extends 'MyMealMate/base.html' %}
{% load staticfiles %}

{% block title_block %}
    Schedule
{% endblock %}

{% block stylesheet_block %}
    <link rel="stylesheet" href="{% static 'css/schedule_styles.css' %}">
{% endblock %}

{% block script_block %}
<script src="{% static 'js/create_schedule.js' %}"></script>
<script>


    var selected_day = new Date().getDate();
    var selected_month = new Date().getMonth();
    var selected_year = new Date().getFullYear();


    document.addEventListener("DOMContentLoaded", function() {
        var schedule = '{{ schedule }}';
        createCalendar(selected_month, selected_year, schedule);
    });
</script>
{% endblock %}

{% block body_block %}
<h1>Schedule</h1>
<div class="schedule_nav">
    <ul>
        <li><button id="prevMonthButton" onclick="previousMonth('{{ schedule }}')">Previous</button></li>
        <li><button id="todayButton" onclick="today('{{ schedule }}')">Current Month</button></li>
        <li><button id="nextMonthButton" onclick="nextMonth('{{ schedule }}')">Next</button></li>
    </ul>
</div>

<div id="calendar"></div>

<div id="meal-scheduling-section">
    <h2>Schedule a Meal</h2>
    <form id="meal-scheduling-form" method="post" action="{% url 'MyMealMate:schedule' %}">
        {% csrf_token %}
        <label for="meal-name">Meal Name:</label>
        <input type="text" id="meal-name" name="meal-name" required><br><br>
        
        <label for="meal-date">Meal Date:</label>
        <input type="date" id="meal-date" name="meal-date" required><br><br>
        
        <button type="submit">Schedule</button>
    </form>
</div>
{% endblock %}
